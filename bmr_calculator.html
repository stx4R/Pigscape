<!DOCTYPE html>
<html lang="ko">
<head>
  
  <meta charset="UTF-8">
  <title>ë¼íƒˆì¶œ ğŸ· | BMR ê³„ì‚°ê¸°</title>
  <style>
    @font-face {
      font-family: 'Paperlogy3';
      src: url('static/fonts/Paperlogy-3Light.ttf') format('truetype');
      font-weight: 300; font-style: normal;
    }
    @font-face {
      font-family: 'Paperlogy4';
      src: url('static/fonts/Paperlogy-4Regular.ttf') format('truetype');
      font-weight: 400; font-style: normal;
    }
    @font-face {
      font-family: 'Paperlogy5';
      src: url('static/fonts/Paperlogy-5Medium.ttf') format('truetype');
      font-weight: 500; font-style: normal;
    }

    html,body{
      margin:0; padding:0;
      font-family:'Paperlogy5', 'Paperlogy4', 'Paperlogy3', sans-serif;
      color:var(--text); background:#fff;
      overflow-x:hidden;
    }
    a{color:inherit;text-decoration:none}
    
    :root{
      --nav:#d94a4a;         /* ìƒë‹¨ glb */
      --brand-border:#f08080;
      --red-weak:#f8d7d7;    /* íƒ€ì´í‹€ ë°•ìŠ¤ ë°°ê²½ */
      --red-soft:#ffcccc;    /* íŒ ì¹´ë“œ ì•ë©´ */
      --red-back:#ffeaea;    /* íŒ ì¹´ë“œ ë’·ë©´ */
      --text:#222; --muted:#555;
      --gap: 48px;           /* ì¹´ë“œ ê°„ê²©(ì¢Œìš° ì—¬ë°±ê³¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©) */
      --nav-h: 72px;         /* glb ë†’ì´ */
    }
    *{box-sizing:border-box}
    /* ìƒë‹¨ GLB */
    .glb{
      position:fixed; top:0; left:0; width:100%;
      height:var(--nav-h);
      background:var(--nav);
      display:flex; align-items:center; gap:24px;
      padding:0 20px; z-index:1000;
      box-shadow:0 4px 10px rgba(0,0,0,.08);
    }
    /* ë¸Œëœë“œ(ì¢Œì¸¡ "ë¼íƒˆì¶œ ğŸ·" ë°•ìŠ¤) */
    .brand{
      display:flex; align-items:center; justify-content:center;
      height:56px; padding:0 18px;
      border:3px solid var(--brand-border);
      background:var(--red-weak);
      border-radius:14px;
      font-weight:700; font-size:22px;
      color:#000;                 /* ìš”êµ¬: ê¸€ì ê²€ì€ìƒ‰ */
      user-select:none; cursor:pointer;
      transition:transform .18s ease;
    }
    .brand .pig{ display:inline-block; margin-left:6px; transition:transform .12s ease; }
    .brand.pulse{ transform:scale(1.06); }

    /* ë‚´ë¹„ ë§í¬ */
    .nav-links{ display:flex; align-items:center; gap:22px; margin-left:auto; }
    .nav-item{
      position:relative; color:#fff; font-weight:700; font-size:18px;
      padding:8px 6px; border-radius:8px; cursor:pointer;
      transition:transform .2s ease, opacity .2s ease;
    }
    .nav-item .mini{
      position:absolute; left:50%; top:100%;
      transform:translate(-50%, 8px);
      background:#fff; color:#333; white-space:nowrap;
      padding:8px 10px; border-radius:10px;
      box-shadow:0 6px 18px rgba(0,0,0,.15);
      font-size:13px; font-weight:400;
      opacity:0; pointer-events:none;
      transition:opacity .15s ease, transform .15s ease;
    }
    /* âœ… â€œì•„ì´í…œ ìœ„ì—ì„œë§Œâ€ ì• ë‹ˆë©”ì´ì…˜: ë‹¤ë¥¸ ì•„ì´í…œ íë¦¼(0.3) & í˜„ì¬ ì•„ì´í…œ í´ë¡œì¦ˆì—… */
    .nav-links.dim .nav-item{ opacity:.3; transform:none; }
    .nav-links.dim .nav-item.active{ opacity:1; transform:scale(1.18); }
    .nav-links.dim .nav-item.active .mini{ opacity:1; transform:translate(-50%, 12px); }

    /* íŒì—… */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.6);
      display:flex;justify-content:center;align-items:center;z-index:900;}
    .popup{background:rgba(255,255,255,0.95);padding:25px;border-radius:15px;
      box-shadow:0 25px 50px rgba(0,0,0,0.6);width:360px;}
    .popup h2{text-align:center;margin-bottom:20px;}
    .gender-options{display:flex;justify-content:space-between;gap:12px;margin-top:10px;}
    .gender-option{flex:1;padding:10px;border:2px solid black;border-radius:20px;
      cursor:pointer;text-align:center;}
    .gender-option.dimmed{opacity:.3;}
    input[type=number]{width:100%;padding:10px;margin-top:8px;border:1px solid #aaa;border-radius:5px;}
    .submit-btn{margin-top:20px;display:block;margin-left:auto;border:2px solid black;
      background:transparent;padding:8px 15px;border-radius:6px;cursor:pointer;}

    /* ê²°ê³¼ */
    .result{margin-top:100px;max-width:900px;margin-left:auto;margin-right:auto;display:none;}
    .bar-wrapper{margin:30px auto;position:relative;width:400px;height:40px;
      border:3px solid black;border-radius:30px;overflow:hidden;}
    .bar-layer{position:absolute;width:100%;height:100%;top:0;left:0;
      display:flex;flex-direction:row;}
    .bar-section{flex:1;}
    .yellow{background:#fff9c4;}
    .green{background:#c8e6c9;}
    .red{background:#ffcdd2;}
    .bar-labels{display:flex;justify-content:space-between;margin:5px auto 20px;width:400px;font-size:14px;}
    .arrow {
    position:absolute;
    bottom:100%; /* ë§‰ëŒ€ ìœ„ */
    transform:translateX(-50%);
    font-weight:bold;
    white-space:nowrap;
    transition:left 1s ease;
  }
    #avg-arrow{color:gray;font-size:13px;}
    @keyframes floatArrow{0%{transform:translateY(0);}50%{transform:translateY(-6px);}100%{transform:translateY(0);}}
    .arrow.float{animation:floatArrow 1.8s ease-in-out infinite;}

    /* ì¹´ë“œ */
    .cards{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:30px;}
    .card{padding:20px;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.1);}
    .status{background:#fff9c4;border:2px solid #fbc02d;}
    .recommend{background:#c8e6c9;border:2px solid #388e3c;}
    .funfacts{margin-top:30px;padding:20px;background:#ffe0b2;border:2px solid #ffa726;border-radius:16px;}
    .funfacts .grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;text-align:center;}
    .fact{background:#fff;border-radius:12px;padding:12px;box-shadow:0 2px 6px rgba(0,0,0,.08);}
    .actions{margin-top:30px;display:flex;gap:12px;justify-content:center;}
    .btn{padding:10px 20px;border-radius:8px;cursor:pointer;font-weight:bold;}
    .btn-outline{border:2px solid #d94a4a;color:#d94a4a;background:transparent;}
    .btn-outline:hover{background:#d94a4a;color:#fff;}
    .btn-solid{background:#d94a4a;color:#fff;border:2px solid #d94a4a;}
    .btn-solid:hover{background:#a93232;}
  </style>
  <script>
// ğŸš« 1. Disable right-click & text selection (copy/paste prevention)
document.addEventListener("contextmenu", e => e.preventDefault());
document.addEventListener("selectstart", e => e.preventDefault());
document.addEventListener("copy", e => e.preventDefault());
document.addEventListener("cut", e => e.preventDefault());
document.addEventListener("paste", e => e.preventDefault());

// ğŸš« 2. Disable DevTools shortcuts
document.addEventListener("keydown", e => {
  if (
    e.key === "F12" || // F12
    (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J")) || // Ctrl+Shift+I/J
    (e.ctrlKey && e.key.toLowerCase() === "u") // Ctrl+U
  ) {
    e.preventDefault();
    alert("ğŸš« Developer Mode is disabled!");
  }
});

// ğŸš¨ 3. Detect if DevTools is open (basic check)
(function() {
  const threshold = 160;
  setInterval(() => {
    if (
      window.outerWidth - window.innerWidth > threshold ||
      window.outerHeight - window.innerHeight > threshold
    ) {
      document.body.innerHTML = "<h1 style='text-align:center; color:red;'>ğŸš¨ Developer Tools Detected! ğŸš¨</h1>";
    }
  }, 500);
})();
</script>

</head>
<body>
  <!-- ìƒë‹¨ GLB -->
  <nav class="glb" role="navigation" aria-label="ì£¼ìš” ë©”ë‰´">
    <!-- ë¸Œëœë“œ: í´ë¦­ ì‹œ í™ˆ, ğŸ· í´ë¦­ ì‹œ ìˆœì°¨ í™•ëŒ€ í›„ 0.2ì´ˆ ë’¤ ì›ë³µ -->
    <div class="brand" id="brandBox" onclick="location.href='index.html'" title="í™ˆìœ¼ë¡œ">
      <span>ë¼íƒˆì¶œ</span>
      <span class="pig" id="navPig">ğŸ·</span>
    </div>

    <div class="nav-links" id="navLinks">
      <a class="nav-item" href="info_pigscape.html">
        ë¼íƒˆì¶œ?
        <span class="mini">ë¼íƒˆì¶œ í”„ë¡œê·¸ë¨ì´ë€?</span>
      </a>
      <a class="nav-item" href="bmr_calculator.html">
        BMR ê³„ì‚°ê¸°
        <span class="mini">ì‚¬ìš©ì BMRì™€ ë¶„í¬ë„ ì•ˆë‚´</span>
      </a>
      <a class="nav-item" href="game_pigscape.html">
        ë¼ì§€ë‹ˆì–´ìŠ¤
        <span class="mini">ê²Œì„ìœ¼ë¡œ ë°°ìš°ëŠ” ë‹¤ì´ì–´íŠ¸ ìƒì‹</span>
      </a>
      <a class="nav-item" href="info_user.html">
        ë‚´ í˜ì´ì§€
        <span class="mini">ë§ì¶¤í˜• ê°œì¸ í˜ì´ì§€</span>
      </a>
    </div>
  </nav>

  <!-- íŒì—… -->
  <div class="overlay" id="overlay">
    <div class="popup">
      <h2>BMR ë°ì´í„° ì¡°ì‚¬</h2>
      <label>ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</label>
      <div class="gender-options">
        <div class="gender-option" id="male" onclick="selectGender('male')">ë‚¨ì„± â™‚ï¸</div>
        <div class="gender-option" id="female" onclick="selectGender('female')">ì—¬ì„± â™€ï¸</div>
      </div>
      <label>ë‚˜ì´ë¥¼ ê¸°ì…í•´ì£¼ì„¸ìš”.</label>
      <input type="number" id="age">
      <label>í‚¤ë¥¼ ê¸°ì…í•´ì£¼ì„¸ìš”. (cm)</label>
      <input type="number" id="height">
      <label>ì²´ì¤‘ì„ ê¸°ì…í•´ì£¼ì„¸ìš”. (kg)</label>
      <input type="number" id="weight">
      <button class="submit-btn" onclick="calculateBMR()">ê³„ì‚°í•˜ê¸° ğŸ§®</button>
    </div>
  </div>

  <!-- ê²°ê³¼ -->
  <div class="result" id="result">
    <h2 id="bmr-title"></h2>
    <div class="bar-wrapper">
      <div class="bar-layer">
        <div class="bar-section yellow"></div>
        <div class="bar-section green"></div>
        <div class="bar-section red"></div>
      </div>
      <div class="arrow" id="arrow">â¬†</div>
      <div class="arrow" id="avg-arrow">â¬† í‰ê·  BMR ìˆ˜ì¹˜</div>
    </div>
    <div class="bar-labels" id="bar-labels"></div>
    <p id="analysis"></p>
    <p id="average"></p>
    <p id="recommend"></p>

    <!-- ë¶„ì„ & ê¶Œì¥ì‚¬í•­ -->
    <div class="cards">
      <div class="card status">
        <h3>ğŸ“Š ë¶„ì„ ê²°ê³¼</h3>
        <p id="status-text"></p>
      </div>
      <div class="card recommend">
        <h3>ğŸ’¡ ë§ì¶¤ ê¶Œì¥ì‚¬í•­</h3>
        <p id="recommend-cal"></p>
      </div>
    </div>

    <!-- ì¬ë¯¸ìˆëŠ” ì‚¬ì‹¤ -->
    <div class="funfacts">
      <h3>ğŸ¯ ì¬ë¯¸ìˆëŠ” ì‚¬ì‹¤</h3>
      <div class="grid">
        <div class="fact"><div id="fact-hour"></div><div>ì‹œê°„ë‹¹ ì†Œëª¨</div></div>
        <div class="fact"><div id="fact-year"></div><div>ì—°ê°„ ì†Œëª¨</div></div>
        <div class="fact"><div id="fact-week"></div><div>ì£¼ê°„ ì§€ë°© ì†Œëª¨(kg)</div></div>
      </div>
    </div>

    <!-- ì•¡ì…˜ ë²„íŠ¼ -->
    <div class="actions">
      <button class="btn btn-outline" onclick="resetCalculator()">ë‹¤ì‹œ ê³„ì‚°í•˜ê¸° ğŸ”„</button>
      <button class="btn btn-solid" onclick="showVideoPopup()">ë§ì¶¤ ìš´ë™ ê³„íš ë³´ê¸° ğŸ‹ï¸â€â™€ï¸</button>
    </div>
  </div>

    <!-- ìš´ë™ ì˜ìƒ íŒì—… -->
    <div class="overlay" id="videoOverlay" style="display:none;">
      <div class="popup" style="padding:0; width:auto; max-width:800px; position:relative;">
        <button id="closeVideo" style="
          position:absolute; top:10px; right:14px;
          border:none; background:transparent;
          font-size:20px; cursor:pointer;">âœ–</button>
        <video id="exerciseVideo" controls autoplay style="width:100%; height:auto; border-radius:12px;"></video>
      </div>
    </div>

  
<script>

    const navLinks = document.getElementById('navLinks');
    const navItems = [...navLinks.querySelectorAll('.nav-item')];

    navItems.forEach(item=>{
      item.addEventListener('mouseenter', ()=>{
        navLinks.classList.add('dim');
        navItems.forEach(i=>i.classList.remove('active'));
        item.addEventListener('mouseleave', ()=>{}); // no-op to prevent duplicate
        item.classList.add('active');
      });
      item.addEventListener('mouseleave', ()=>{
        setTimeout(()=>{
          if(!navItems.some(i=>i.matches(':hover'))){
            navLinks.classList.remove('dim');
            navItems.forEach(i=>i.classList.remove('active'));
          }
        }, 20);
      });
    });

  let selectedGender=null;
  function selectGender(g){selectedGender=g;
    document.getElementById("male").classList.remove("dimmed");
    document.getElementById("female").classList.remove("dimmed");
    if(g==="male")document.getElementById("female").classList.add("dimmed");
    else document.getElementById("male").classList.add("dimmed");
  }
  function getAverageBMR(g,a){
    if(g==="male"){if(a<25)return 1720;if(a<30)return 1680;if(a<35)return 1650;
      if(a<40)return 1620;if(a<45)return 1600;if(a<50)return 1580;if(a<55)return 1550;
      if(a<60)return 1530;return 1500;}
    else{if(a<25)return 1470;if(a<30)return 1430;if(a<35)return 1400;if(a<40)return 1370;
      if(a<45)return 1350;if(a<50)return 1330;if(a<55)return 1300;if(a<60)return 1270;return 1250;}
  }
  function calculateBMR(){
    const age=parseInt(document.getElementById("age").value);
    const h=parseFloat(document.getElementById("height").value);
    const w=parseFloat(document.getElementById("weight").value);
    if(!selectedGender||!age||!h||!w){alert("ëª¨ë“  ê°’ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");return;}
    let bmr=0;
    if(selectedGender==="male"){ bmr=88.362+(13.397*w)+(4.799*h)-(5.677*age);}
    else{ bmr=447.593+(9.247*w)+(3.098*h)-(4.330*age);}
    showResult(Math.round(bmr),selectedGender,age);
  }
  function showResult(bmr,g,a){
    document.getElementById("overlay").style.display="none";
    document.getElementById("result").style.display="block";
    document.getElementById("bmr-title").textContent="ë‚˜ì˜ BMRì€ "+bmr+"ì…ë‹ˆë‹¤.";
    const arrow=document.getElementById("arrow");
    const avgArrow=document.getElementById("avg-arrow");
    const labels=document.getElementById("bar-labels");
    let low,high;
    if(g==="male"){low=1400;high=2400;
      labels.innerHTML="<div>1400</div><div>1800</div><div>2400</div>";
    } else {low=1100;high=1900;
      labels.innerHTML="<div>1100</div><div>1500</div><div>1900</div>";
    }
    let text,color="black";
    if(g==="male"){
      if(bmr<1600){text="í‰ê· ë³´ë‹¤ ë‚®ìŠµë‹ˆë‹¤.";color="#fbc02d";}
      else if(bmr<1900){text="í‰ê· ì…ë‹ˆë‹¤.";color="#388e3c";}
      else{text="í‰ê· ë³´ë‹¤ ë†’ìŠµë‹ˆë‹¤.";color="#d32f2f";}
    } else {
      if(bmr<1300){text="í‰ê· ë³´ë‹¤ ë‚®ìŠµë‹ˆë‹¤.";color="#fbc02d";}
      else if(bmr<1700){text="í‰ê· ì…ë‹ˆë‹¤.";color="#388e3c";}
      else{text="í‰ê· ë³´ë‹¤ ë†’ìŠµë‹ˆë‹¤.";color="#d32f2f";}
    }
    const pos=v=>v<=low?0:v>=high?400:((v-low)/(high-low))*400;
    const avgBMR=getAverageBMR(g,a);
    arrow.style.left=pos(bmr)+"px";arrow.style.color=color;arrow.textContent="â¬† "+bmr;
    avgArrow.style.left=pos(avgBMR)+"px";avgArrow.textContent="â¬† í‰ê·  "+avgBMR;
    arrow.classList.add("float");avgArrow.classList.add("float");
    document.getElementById("analysis").textContent="ë‚´ bmr ì§€ìˆ˜ "+bmr+"ëŠ” "+text;
    document.getElementById("average").textContent="ë™ë‚˜ì´ëŒ€ í‰ê·  bmr "+avgBMR+"ì…ë‹ˆë‹¤.";
    document.getElementById("recommend").textContent=bmr+"ì— ë§ëŠ” ì¶”ì²œ ìš´ë™ë²• í™•ì¸í•˜ê¸°!";
    document.getElementById("status-text").textContent=text;
    document.getElementById("recommend-cal").textContent=
      "ì¼ì¼ ê¶Œì¥ "+Math.round(bmr*1.4)+"~"+Math.round(bmr*1.7)+" kcal, "+
      "ê°ëŸ‰ "+Math.round(bmr*1.2)+" kcal, ì¦ëŸ‰ "+Math.round(bmr*1.8)+" kcal";
    document.getElementById("fact-hour").textContent=Math.round(bmr/24);
    document.getElementById("fact-year").textContent=Math.round((bmr*365)/1000)+"k";
    document.getElementById("fact-week").textContent=(Math.round(((bmr*7)/7700)*10)/10);
  }
  function resetCalculator(){
    document.getElementById("overlay").style.display="flex";
    document.getElementById("result").style.display="none";
    document.getElementById("age").value="";
    document.getElementById("height").value="";
    document.getElementById("weight").value="";
    selectedGender=null;
  }

    // ìš´ë™ ì˜ìƒ ë¦¬ìŠ¤íŠ¸
  const videos = [
    "static/videos/IMG_0494.MOV",
    "static/videos/IMG_0495.MOV",
    "static/videos/IMG_0497.MOV",
    "static/videos/IMG_0498.MOV",
    "static/videos/IMG_0503.MOV",
    "static/videos/IMG_2924.MOV",
    "static/videos/IMG_2926.MOV",
    "static/videos/IMG_2927.MOV",
    "static/videos/IMG_2928.MOV",
  ];

  // íŒì—… ì—´ê¸°
  function showVideoPopup(){
    const videoOverlay=document.getElementById("videoOverlay");
    const exerciseVideo=document.getElementById("exerciseVideo");
    const rand=videos[Math.floor(Math.random()*videos.length)];
    exerciseVideo.src=rand;
    videoOverlay.style.display="flex";
  }

  // íŒì—… ë‹«ê¸°
  document.getElementById("closeVideo").addEventListener("click",()=>{
    document.getElementById("videoOverlay").style.display="none";
    document.getElementById("exerciseVideo").pause();
  });

</script>
</body>
</html>
